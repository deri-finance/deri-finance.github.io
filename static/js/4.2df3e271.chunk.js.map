{"version":3,"sources":["components/Button/Button.js","utils/DeriNumberFormat.js","components/hoc/withModal.js","hooks/useDisableScroll.js","components/Mining/Liquidity/Liquidity.js","components/Mining/Liquidity/Dialog/AddLiquidity.js","hooks/useSpecification.js","components/Mining/Liquidity/Dialog/RemoveLiquidity.js","components/Mining/Liquidity/LiquidityMining.js","components/Claim/Claim.js","hooks/useClaimInfo.js","hooks/useConfig.js","components/Mining/Trade/Liquidity.js","components/Mining/Trade/TradeMining.js","../node_modules/react-modal/lib/index.js"],"names":["Button","btnText","className","disabled","click","afterClick","checkApprove","wallet","spec","lang","useState","status","setStatus","isApproved","setIsApproved","pending","setPending","loadRef","useRef","onClick","a","beforeAction","afterAction","current","style","display","loadApproveStatus","detail","account","pool","bTokenId","res","approve","success","alert","useEffect","ref","marginRight","DeriNumberFormat","props","renderablity","setRenderablity","allowZero","others","undefined","value","isNaN","Math","abs","displayType","withModal","Component","appElement","document","getElementById","customizeStyle","overlay","position","zIndex","background","content","border","inset","overflow","WithModal","state","modalIsOpen","this","overlayMerged","Object","assign","mergedStyle","isOpen","portalClassName","intl","locale","onClose","React","inject","observer","useDisableScroll","nested","querySelector","AddDialog","address","baseToken","afterAdd","balance","isLpPool","baseTokenId","symbolId","amount","setAmount","decimal","setDecimal","addValue","setAddValue","setSpec","loadSpec","isConnected","getSpecification","chainId","useSpecification","addLiq","max","bg","gt","minAddLiquidity","addLpLiquidity","addLiquidity","toFixed","substring","indexOf","length","thousandSeparator","decimalScale","type","placeholder","onChange","e","target","RemoveDialog","liqInfo","afterRemove","unit","setBalance","remove","totalShares","removeLpLiquidity","removeLiquidity","formatShares","data-dismiss","Operator","version","loadLiqidityInfo","btnType","setBtnType","setIsOpen","buttonElment","setButtonElment","loadBalance","eqInNumber","total","getLpWalletBalance","getWalletBalance","isApprove","isLpUnlocked","result","isUnlocked","unlockLp","unlock","error","message","connect","el","liquidity","setLiquidity","bToken","setBToken","loadLiquidityInfo","getPoolInfoApy","apyPool","getPoolLiquidity","pooLiquidity","info","getLpLiquidityInfo","getLiquidityInfo","isLP","getLpPoolInfoApy","lapy","lpApy","apy2","shares","multipliedBy","shareValue","poolLiquidity","apy","percent","dividedBy","toString","values","sharesTitle","pnl","plus","isCakeLP","suffix","title","isSushiLP","prefix","LiquidityMining","Claim","miningClaim","tradingClaim","setBtnText","claimed","setClaimed","claimInfo","setClaimInfo","interval","loadClaimInfo","getUserInfoAll","unclaimed","valid","harvestDeriLp","lp","harvestDeriTrade","trade","window","setInterval","clearInterval","useClaimInfo","claimInfoInterval","remainingTime","setRemainingTime","config","DeriEnv","get","useConfig","claim","text","parseInt","Date","now","mintDToken","period","dis","h","m","s","configInfo","Config","userInfoInPool","setUserInfoInPool","tradeSummary","setTradeSummary","history","useHistory","loadUserInfoInPool","userInfo","getUserInfoInPool","userInfoPool","myTradingVolumeCurrent","volume1h","getTradeInfo","poolInfo","totalTradingVolumeCurrent","configs","load","isV1","find","c","storeConfig","push","TradeMining","defineProperty","exports","obj","_Modal","require","_Modal2","__esModule","default","module"],"mappings":"gNACe,SAASA,EAAT,GAA6F,IAA5EC,EAA2E,EAA3EA,QAAQC,EAAmE,EAAnEA,UAAUC,EAAyD,EAAzDA,SAASC,EAAgD,EAAhDA,MAAMC,EAA0C,EAA1CA,WAAWC,EAA+B,EAA/BA,aAAaC,EAAkB,EAAlBA,OAAOC,EAAW,EAAXA,KAAKC,EAAM,EAANA,KAAM,EAC7EC,mBAASP,EAAW,WAAa,WAD4C,mBAClGQ,EADkG,KAC1FC,EAD0F,OAErEF,oBAAS,GAF4D,mBAElGG,EAFkG,KAEtFC,EAFsF,OAG3EJ,oBAAS,GAHkE,mBAGlGK,EAHkG,KAGzFC,EAHyF,KAInGC,EAAUC,iBAAO,MAEjBC,EAAO,uCAAG,sBAAAC,EAAA,yDACA,YAAXT,EADW,wDAIdU,IAJc,SAKOjB,IALP,eAOZC,GAAcA,IAEhBiB,IATc,2CAAH,qDAYPD,EAAe,WACnBT,EAAU,YACVI,GAAW,GACXC,EAAQM,UAAYN,EAAQM,QAAQC,MAAMC,QAAU,iBAGhDH,EAAc,WAClBL,EAAQM,UAAYN,EAAQM,QAAQC,MAAMC,QAAU,QACpDb,EAAU,WACVI,GAAW,IAGPU,EAAiB,uCAAG,4BAAAN,EAAA,2DACrBd,GAAgBC,GAAUA,EAAOoB,OAAOC,SADnB,gCAEJrB,EAAOM,WAAWL,EAAKqB,KAAKrB,EAAKsB,UAF7B,OAEhBC,EAFgB,OAGtBjB,EAAciB,GAHQ,2CAAH,qDAMjBC,EAAO,uCAAG,sBAAAZ,EAAA,6DACdC,IADc,SAEId,EAAOyB,QAAQxB,EAAKqB,KAAKrB,EAAKsB,UAFlC,cAGPG,QACLnB,GAAc,IAEdA,GAAc,GACdoB,MAAMzB,EAAK,oBAEba,IATc,2CAAH,qDAyBb,OALAa,qBAAU,WAER,OADAT,IACO,eACN,CAACnB,EAAOC,EAAKF,IAGd,yBAAQJ,UAAWA,EAAWiB,QAdjB,WACVN,EACDM,IAEAa,KAUF,UACI,sBAAM9B,UAAU,mBAAhB,SACE,sBAAMkC,IAAKnB,EACTf,UAAU,2CACVsB,MAAO,CAACC,QAAU,OAAQY,YAAc,SAGzCtB,EAAUN,EAAI,QAAeI,EAAaZ,EAAUQ,EAAI,a,wHCnEpD,SAAS6B,EAAiBC,GAAO,IAAD,EACL7B,mBAAS,MADJ,mBACtC8B,EADsC,KACxBC,EADwB,KAW7C,OARAN,qBAAU,WAAO,IACRO,EAAuBH,EAAvBG,UAAaC,EADN,YACgBJ,EADhB,eAKd,YAHqBK,IAAhBL,EAAMM,OAAuC,KAAhBN,EAAMM,OAAgC,QAAhBN,EAAMM,OAAuE,KAAjDC,MAAMP,EAAMM,QAAUE,KAAKC,IAAIT,EAAMM,UAA+B,IAAdH,IACxID,EAAgB,cAAC,IAAD,2BAAkBE,GAAlB,IAA0BM,YAAc,WAEnD,eACN,CAACV,EAAMM,QAEHL,I,6HC+BMU,IAzCG,SAAAC,GAChB,IAAMC,EAAaC,SAASC,eAAe,QACrCC,EAAkB,CACtBC,QAAS,CACPC,SAAU,QACVC,OAAS,EACTC,WAAa,oBAEfC,QAAS,CACPH,SAAU,WACVI,OAAS,EACTF,WAAa,OACbG,MAAQ,EACRC,SAAW,YAITC,EAjBuB,kDAkB3B,WAAYzB,GAAO,IAAD,8BAChB,cAAMA,IACD0B,MAAQ,CACXC,aAAc,GAHA,EAlBS,0CAyB3B,WAAS,IAAD,EACuCC,KAAK5B,MAA3C2B,EADD,EACCA,YAAYhE,EADb,EACaA,UADb,IACuBsD,eADvB,MACiC,GADjC,EAEAY,EAAgBC,OAAOC,OAAOf,EAAeC,QAA7Ba,OAAA,IAAAA,CAAA,GAAyCb,IACzDe,EAAcF,OAAOC,OAAOf,EAAe,CAACC,QAASY,IAC3D,OACE,cAAC,IAAD,CAAOI,OAAQN,EAAa1C,MAAO+C,EAAanB,WAAYA,EAAYqB,gBAAiBN,KAAK5B,MAAMmC,KAAKC,OAAzG,SACE,qBAAKzE,UAAWA,EAAhB,SACE,cAACiD,EAAD,2BAAegB,KAAK5B,OAApB,IAA2BrC,UAAWA,EAAW0E,QAAST,KAAK5B,MAAMqC,mBAhClD,GAiBLC,IAAM1B,WAsB9B,OAAO2B,YAAO,OAAPA,CAAeC,YAASf,M,iCC3CjC,6CAEe,SAASgB,EAAiBC,GAWvC,OATA9C,qBAAU,WAGR,OADAkB,SAAS6B,cAAc,QAAQ1D,MAAMuC,SAAW,SACzC,WACDkB,IACF5B,SAAS6B,cAAc,QAAQ1D,MAAMuC,SAAW,WAGnD,IACI,O,gMCwHT,IAAMoB,EAAYjC,aC3HH,YAA8G,IAAvF3C,EAAsF,EAAtFA,OAAO6E,EAA+E,EAA/EA,QAAQC,EAAuE,EAAvEA,UAAUT,EAA6D,EAA7DA,QAAQU,EAAqD,EAArDA,SAASC,EAA4C,EAA5CA,QAAQC,EAAoC,EAApCA,SAASC,EAA2B,EAA3BA,YAAYC,EAAe,EAAfA,SAASjF,EAAM,EAANA,KAAM,EAC9FC,mBAAS,KADqF,mBACnHiF,EADmH,KAC3GC,EAD2G,OAE5FlF,mBAAS,MAFmF,mBAEnHmF,EAFmH,KAE1GC,EAF0G,OAG1FpF,mBAAS,IAHiF,mBAGnHqF,EAHmH,KAGzGC,EAHyG,KAIpHxF,ECXO,YAAqD,IAA1BD,EAAyB,EAAzBA,OAAO6E,EAAkB,EAAlBA,QAAQM,EAAU,EAAVA,SAAU,EACzChF,mBAAS,IADgC,mBAC1DF,EAD0D,KACpDyF,EADoD,KAG3DC,EAAQ,uCAAG,4BAAA9E,EAAA,0DACZb,EAAO4F,gBAAiBf,EADZ,gCAEOgB,2BAAiB7F,EAAOoB,OAAO0E,QAAQjB,EAAQM,GAFtD,OAEPlF,EAFO,OAGbyF,EAAQzF,GAHK,2CAAH,qDAad,OANA2B,qBAAU,WAER,OADA+D,IACO,eAEN3F,EAAOoB,OAAOC,QAAQwD,GAElB5E,EDLM8F,CAAiB,CAAC/F,SAAO6E,UAAQM,aAC9CV,cAGA,IASMuB,EAAM,uCAAG,8BAAAnF,EAAA,yDACPoF,EAAMC,aAAGlB,IACHkB,aAAGV,GACRW,GAAGF,GAHG,uBAIXtE,MAAMzB,EAAK,yBAJA,mBAKJ,GALI,YAOVD,IAAUuF,GAAcvF,EAAKmG,iBAPnB,uBAQXzE,MAAM,GAAD,OAAIzB,EAAK,8CAAT,YAA0DD,EAAKmG,kBARzD,mBASJ,GATI,YAWVZ,GAAW,GAAKjD,MAAMiD,IAXZ,wBAYX7D,MAAMzB,EAAK,mCAZA,mBAaJ,GAbI,WAeTsB,EAAO,MACRyD,EAhBU,kCAiBCoB,yBAAerG,EAAOoB,OAAO0E,QAAQjB,EAAQ7E,EAAOoB,OAAOC,QAAQmE,GAjBpE,QAiBXhE,EAjBW,gDAmBC8E,uBAAatG,EAAOoB,OAAO0E,QAAQjB,EAAQ7E,EAAOoB,OAAOC,QAAQmE,EAASN,GAnB3E,QAmBX1D,EAnBW,sBAsBRA,GAASA,EAAIE,SAChBC,MAAMzB,EAAK,2BAvBA,mBAyBN,GAzBM,4CAAH,qDAqCZ,OATA0B,qBAAU,WACR,IAAMwD,IAAWJ,GAASuB,QAAQ,GAC5BjB,EAAUF,EAAOoB,UAAUpB,EAAOqB,QAAQ,KAAO,EAAErB,EAAOsB,QAGhE,OAFArB,EAAUD,GACVG,EAAWD,GACJ,eACN,CAACN,IAIF,qBAAKrF,UAAU,eAAf,SACI,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,QAAf,SAAwBO,EAAK,mBAC7B,qBAAKP,UAAU,QAAQiB,QAASyD,EAAhC,SACE,6CAGJ,qBAAK1E,UAAU,aAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,8BAAMO,EAAK,oBACX,sBAAKP,UAAU,QAAf,UACE,iCACE,uBAAMA,UAAU,aAAhB,UACE,cAAC,IAAD,CAAc+C,YAAY,OAAOJ,MAAQ8C,EAASuB,mBAAmB,EAAMxE,WAAW,EAAMyE,aAAc,IAD5G,IAEE,sBAAMjH,UAAU,QAAhB,SAAwB,cAAC,IAAD,CAAc+C,YAAY,OAAOJ,MAAQgD,EAASqB,mBAAmB,EAAMC,aAAc,EAAGzE,WAAW,SAE/H,qBAAKxC,UAAU,aAAf,SAA8BmF,OAElC,sBAAMnF,UAAU,WAElB,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,eAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,SAASsB,MAAO,CAACC,QAAUsE,EAAW,QAAU,QAA/D,SAAyEtF,EAAI,YAC7E,uBACE2G,KAAK,SACLlH,UAAU,eACVmH,YAAa5G,EAAI,UACjBoC,MAAOkD,EACPuB,SA7EN,SAACC,GAAO,IACb1E,EAAQ0E,EAAEC,OAAV3E,MACPmD,EAAYnD,WA+EA,8BAAOwC,OAET,sBAAKnF,UAAU,MAAf,UACGO,EAAI,IADP,KACiB,sBAAMP,UAAU,UAAhB,SAA2BqF,IAC1C,sBAAMrF,UAAU,eAAeiB,QAhF9B,WACb6E,EAAYT,IA+EA,SAAiD9E,EAAK,gBAExD,qBAAKP,UAAU,iBAAf,SACE,cAACF,EAAA,EAAD,CAAQE,UAAU,aAAaE,MAAOmG,EAAQtG,QAASQ,EAAI,IAASJ,WAAYiF,EAAU7E,KAAMA,mBD4B1GgH,EAAevE,aGhIN,YAAsG,IAA5E3C,EAA2E,EAA3EA,OAAO6E,EAAoE,EAApEA,QAAQsC,EAA4D,EAA5DA,QAAQ9C,EAAoD,EAApDA,QAAQ+C,EAA4C,EAA5CA,YAAYnC,EAAgC,EAAhCA,SAASC,EAAuB,EAAvBA,YAAYmC,EAAW,EAAXA,KAAKnH,EAAM,EAANA,KAAM,EACtFC,mBAAS,IAD6E,mBAC3GiF,EAD2G,KACnGC,EADmG,OAEpFlF,mBAAS,KAF2E,mBAE3G6E,EAF2G,KAElGsC,EAFkG,OAGpFnH,mBAAS,MAH2E,mBAG3GmF,EAH2G,KAGlGC,EAHkG,KAIlHd,cAGA,IASM8C,EAAM,uCAAG,gCAAA1G,EAAA,yDACPoF,EAAMC,aAAGiB,EAAQK,cACXtB,aAAGd,GACPe,GAAGF,GAHE,uBAIXtE,MAAM,GAAD,OAAIzB,EAAK,yCAAT,aAAsDiH,EAAQK,cAJxD,mBAKJ,GALI,UAOTvC,EAPS,uBAQLD,GAAYmC,EAAQK,aAAiBpC,GAC7B,GAAKJ,EAAU,GATlB,wBAUTrD,MAAMzB,EAAK,0BAVF,mBAWF,GAXE,cAcRkF,GAAU,GAAK7C,MAAM6C,IAdb,wBAeXzD,MAAMzB,EAAK,sBAfA,mBAgBJ,GAhBI,WAkBTsB,EAAM,MACPyD,EAnBU,kCAoBCwC,4BAAkBzH,EAAOoB,OAAO0E,QAAQjB,EAAQ7E,EAAOoB,OAAOC,QAAQ+D,GApBvE,QAoBX5D,EApBW,gDAsBCkG,0BAAgB1H,EAAOoB,OAAO0E,QAAQjB,EAAQ7E,EAAOoB,OAAOC,QAAQ+D,EAAOF,GAtB5E,QAsBX1D,EAtBW,kBAyBTA,GAAQA,EAAIE,QAzBH,wBA0BXC,MAAMzB,EAAK,2BA1BA,mBA2BJ,GA3BI,kCA6BN,GA7BM,4CAAH,qDA6CZ,OAZA0B,qBAAU,WACR,GAAGuF,GAAWA,EAAQQ,aAAa,CACjC,IAAM3C,EAAUmC,EAAQQ,aAClBrC,EAAUN,EAAQwB,UAAUxB,EAAQyB,QAAQ,KAAM,EAAGzB,EAAQyB,QAAQ,KAAO,GAClFa,EAAWtC,GACXO,EAAWD,GAEb,OAAO,eACN,CAAC6B,EAAQK,cAKV,qBAAK7H,UAAU,eAAf,SACI,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,QAAf,SAAwBO,EAAK,sBAC7B,qBAAKP,UAAU,QAAQiI,eAAa,QAAQhH,QAASyD,EAArD,SACE,6CAGJ,qBAAK1E,UAAU,aAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,oCAAOO,EAAK,uBACZ,sBAAKP,UAAU,QAAf,UACE,+BACE,uBAAMA,UAAU,aAAhB,UACE,cAAC,IAAD,CAAc+C,YAAY,OAAOJ,MAAQ0C,EAAS4B,aAAc,EAAGD,mBAAmB,IADxF,IAEE,sBAAMhH,UAAU,QAAhB,SAAyB2F,SAG7B,sBAAM3F,UAAU,cAElB,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,eAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,SAASsB,MAAO,CAACC,QAAUkE,EAAS,QAAU,QAA7D,SACGlF,EAAK,sBAER,uBACE2G,KAAK,SACLlH,UAAU,eACVmH,YAAa5G,EAAK,oBAClBoC,MAAO8C,EACP2B,SAlFH,SAAAC,GAAM,IACd1E,EAAS0E,EAAEC,OAAX3E,MACP+C,EAAU/C,WAoFE,8BAAM+E,OAER,sBAAK1H,UAAU,MAAf,UACE,+BAAOO,EAAK,oBACZ,sBAAMP,UAAU,UAAhB,SAA2BwH,EAAQK,cACnC,sBAAM7H,UAAU,eAAeiB,QA/F9B,WACbyE,EAAU8B,EAAQK,cA8FN,SAAiDtH,EAAK,mBAExD,qBAAKP,UAAU,iBAAf,SACE,cAACF,EAAA,EAAD,CAAQI,MAAO0H,EAAQ5H,UAAU,aAAaD,QAASQ,EAAI,OAAYJ,WAAYsH,EAAalH,KAAMA,mBH0BhH2H,EAAW,SAAC,GAA2G,IAA1GC,EAAyG,EAAzGA,QAAQ9H,EAAiG,EAAjGA,OAAO8F,EAA0F,EAA1FA,QAAQjB,EAAkF,EAAlFA,QAAQC,EAA0E,EAA1EA,UAAUG,EAAgE,EAAhEA,SAASkC,EAAuD,EAAvDA,QAAQY,EAA+C,EAA/CA,iBAAiB7C,EAA8B,EAA9BA,YAAYC,EAAkB,EAAlBA,SAASjF,EAAS,EAATA,KAAS,EACxFC,oBAAS,GAD+E,mBACpHG,EADoH,KACzGC,EADyG,OAE7FJ,mBAAS,OAFoF,mBAEpH6H,EAFoH,KAE3GC,EAF2G,OAG/F9H,oBAAS,GAHsF,mBAGpH8D,EAHoH,KAG5GiE,EAH4G,OAI7F/H,mBAAS,IAJoF,mBAIpH6E,EAJoH,KAI3GsC,EAJ2G,OAKnFnH,mBAAS,MAL0E,mBAKpHgI,EALoH,KAKtGC,EALsG,KAQpHC,EAAW,uCAAG,4BAAAxH,EAAA,0DACfb,EAAO4F,gBAAiB0C,YAAWtI,EAAOoB,OAAO0E,QAAQA,GAD1C,oBAEfyC,EAAQ,MACTtD,EAHgB,gCAIJuD,6BAAmBxI,EAAOoB,OAAO0E,QAAQjB,EAAQ7E,EAAOoB,OAAOC,SAJ3D,OAIlBkH,EAJkB,+CAMJE,2BAAiBzI,EAAOoB,OAAO0E,QAAQjB,EAAQ7E,EAAOoB,OAAOC,QAAQ6D,GANjE,QAMlBqD,EANkB,eAQC,WAAjB,YAAOA,IACTjB,EAAWiB,GATO,4CAAH,qDAcjB3G,qBAAU,WAGR,OAFFyG,IACAN,IACS,eACN,CAAC/H,EAAOoB,OAAOC,UAGnB,IAAMqH,EAAS,uCAAG,8BAAA7H,EAAA,0DACdoE,EADc,gCAEK0D,uBAAa7C,EAAQjB,EAAQ7E,EAAOoB,OAAOC,SAFhD,cAEVuH,EAFU,OAGhBrI,EAAcqI,GAHE,kBAITA,GAJS,wBAMKC,qBAAW/C,EAAQjB,EAAQ7E,EAAOoB,OAAOC,QAAQ6D,GANtD,eAMV0D,EANU,OAOhBrI,EAAcqI,GAPE,kBAQTA,GARS,4CAAH,qDAcTnH,EAAO,uCAAG,4BAAAZ,EAAA,yDACXW,EAAM,MACPyD,EAFY,gCAGF6D,mBAAShD,EAAQjB,EAAQ7E,EAAOoB,OAAOC,SAHrC,OAGdG,EAHc,8CAKFuH,iBAAOjD,EAAQjB,EAAQ7E,EAAOoB,OAAOC,QAAQ6D,GAL3C,OAKd1D,EALc,eAOZA,GAAOA,EAAIE,QACbnB,GAAc,GAEdoB,MAAMH,EAAIwH,OAASxH,EAAIwH,MAAMC,SAAoC/I,EAAK,mBAVxD,4CAAH,qDAePgJ,EAAO,uCAAI,sBAAArI,EAAA,sEACVb,EAAOkJ,UADG,2CAAJ,qDAIP5C,EAAe,WACpB4B,GAAU,GACVD,EAAW,QAGNnI,EAAa,WAClBoI,GAAU,GAEVG,IACAN,KAGKL,EAAkB,WACvBQ,GAAU,GACVD,EAAW,WAwCX,OAnCArG,qBAAU,WAKV,OAHK5B,EAAO4F,eAAiB0C,YAAWtI,EAAOoB,OAAO0E,QAASA,IAC9D4C,IAEM,eACL,CAAC1I,EAAOoB,OAAOC,UAElBO,qBAAU,WACT,GAAG5B,EAAO4F,eAAiB0C,YAAWtI,EAAOoB,OAAO0E,QAAQA,IAAYxF,EACvE8H,EAAiB,sBAAKzI,UAAU,uBAAf,UACjB,wBACEA,UAAU,gBACViB,QAAS0F,EAFX,SAGGpG,EAAK,mBAER,wBAAQP,UAAU,mBAAmBiB,QAAS8G,EAA9C,SACGxH,EAAK,8BAGF,CACN,IAAIiJ,EAAK,KACLnJ,EAAO4F,cAEA0C,YAAWtI,EAAOoB,OAAO0E,QAAQA,GAEjCxF,IACV6I,EAAK,qBAAKxJ,UAAU,UAAf,SAAyB,cAACF,EAAA,EAAD,CAAQE,UAAU,cAAcE,MAAO4B,EAAS/B,QAASQ,EAAI,QAAaA,KAAMA,OAF9GiJ,EAAK,qBAAKxJ,UAAU,UAAf,SAA0B,cAACF,EAAA,EAAD,CAAQE,UAAU,4BAA4BD,QAASQ,EAAK,iBAAkBA,KAAMA,MAFnHiJ,EAAK,qBAAKxJ,UAAU,UAAf,SAAyB,cAACF,EAAA,EAAD,CAAQE,UAAU,cAAcE,MAAOqJ,EAASxJ,QAASQ,EAAK,kBAAmBA,KAAMA,MAMtHkI,EAAgBe,GAGjB,OAAO,eACL,CAACnJ,EAAOoB,OAAOC,QAAQf,IAGvB,sBAAKX,UAAU,gBAAf,UAEY,QAAZqI,EACE,cAACpD,EAAD,CAAYjB,YAAaM,EAAQgB,SAAUA,EAAUZ,QAASvE,EAAYkF,QAASA,EAC7EH,QAASA,EAAS7E,OAAQA,EAAQ8E,UAAWA,EAAWC,SAAUjF,EAAYoF,YAAaA,EAAcC,SAAUA,EAAUjF,KAAMA,IACzI,cAACgH,EAAD,CAAevD,YAAaM,EAAQgB,SAAUA,EAAUZ,QAASvE,EAAYqH,QAASA,EACjFtC,QAASA,EAAS7E,OAAQA,EAAQqH,KAAkB,OAAZS,EAAmB5H,EAAI,OAAY4E,EAAWsC,YAAatH,EAAYoF,YAAaA,EAAaC,SAAUA,EAAUjF,KAAMA,IAE1KiI,MAKW5D,cAAO,SAAPA,CAAiBC,aA/PhC,YAA+F,IAA3ExE,EAA0E,EAA1EA,OAAO8H,EAAmE,EAAnEA,QAAQhC,EAA2D,EAA3DA,QAAQhB,EAAmD,EAAnDA,UAAUD,EAAyC,EAAzCA,QAAQgC,EAAiC,EAAjCA,KAAK3B,EAA4B,EAA5BA,YAAYC,EAAgB,EAAhBA,SAASjF,EAAO,EAAPA,KAAO,EAC3DC,mBAAS,IADkD,mBACrFiJ,EADqF,KAC3EC,EAD2E,OAEjElJ,mBAAS2E,GAFwD,mBAErFwE,EAFqF,KAE9EC,EAF8E,KAGvFtE,EAAqB,OAAT4B,EACZ2C,EAAiB,uCAAG,4CAAA3I,EAAA,sEACH4I,yBAAe3D,EAAQjB,EAAQK,GAD5B,cACnBwE,EADmB,gBAEEC,2BAAiB7D,EAAQjB,EAAQK,GAFnC,UAEnB0E,EAFmB,QAGtB5J,EAAO4F,gBAAiB0C,YAAWxC,EAAU9F,EAAOoB,OAAO0E,SAHrC,oBAIpB+D,EAAO,MACR5E,EALqB,kCAMV6E,6BAAmBhE,EAAQjB,EAAQ7E,EAAOoB,OAAOC,SANvC,QAMvBwI,EANuB,gDAQVE,2BAAiBjE,EAAQjB,EAAQ7E,EAAOoB,OAAOC,QAAQ6D,GAR7C,QAQvB2E,EARuB,mBAWrBG,YAAKnF,GAXgB,kCAYNoF,2BAAiBnE,EAAQjB,GAZnB,QAYnBqF,EAZmB,OAavBC,EAAuB,KAAbD,EAAKE,KAbQ,QAkBrBP,IACIQ,EAASnE,aAAG2D,EAAKQ,QACR,OAAZvC,GACIS,EAAQ8B,EAAOC,aAAaT,EAAKU,YACvClB,EAAa,CACZd,OAAWsB,EAAKW,cAChBC,KAAwB,KAAff,EAAQe,KAAYlE,QAAQ,GACrCgE,WAAaV,EAAKU,WAClBG,QAAUb,EAAKW,cAAgB,EAAIjC,EAAMoC,UAAUd,EAAKW,eAAeF,aAAa,KAAK/D,QAAQ,GAAK,EACtG8D,OAASA,EAAO9D,QAAQ,GACxBoB,aAAe0C,EAAO9D,QAAQ,GAC9BiB,YAActB,aAAGmE,GAAQO,WACzBC,OAAStC,EAAMhC,QAAQ,GACvB4D,QACA9C,KAAOnH,EAAI,OACX4K,YAAc5K,EAAK,qBAGpBmJ,EAAa,CACZd,OAAUsB,EAAKW,cACfC,KAAwB,KAAff,EAAQe,KAAYlE,QAAQ,GACrCwE,MAAQlB,EAAKkB,KAAKxE,QAAQ,GAC1B8D,OAASA,EAAOO,WAChBjD,aAAe0C,EAAO9D,QAAQ,GAC9BiB,YAActB,aAAGmE,GAAQW,KAAKnB,EAAKkB,KAAKH,WACxCF,QAAUb,EAAKW,cAAgB,EAAIH,EAAOM,UAAUd,EAAKW,eAAeF,aAAa,KAAK/D,QAAQ,GAAK,EACvGc,KAAOvC,EACPgG,YAAc5K,EAAK,mBA7CE,4BAoDrB8J,YAAKnF,GApDgB,kCAqDNoF,2BAAiBnE,EAAQjB,GArDnB,QAqDnBqF,EArDmB,OAsDjBC,EAAuB,KAAbD,EAAKE,KAtDE,QAwDrBR,GACFP,EAAa,CACZd,MAAQqB,EAAaR,UACrBqB,IAAuB,KAAff,EAAQe,IAChBN,UA5DsB,4CAAH,qDA4EtB,OAVDvI,qBAAU,WAMT,OALA4H,IAEGyB,YAASpG,IACX0E,EAAU,WAEJ,eACL,CAACvJ,EAAOoB,OAAOC,QAAQyD,IAIvB,sBAAKnF,UAAU,gBAAf,UACE,sBAAKA,UAAU,YAAf,UAA4BO,EAAI,QAAhC,IAA+CoJ,EAA/C,IAAyDpJ,EAAK,gBAChE,sBAAKP,UAAU,WAAf,UACE,qBAAKA,UAAU,aAAf,SAA6BO,EAAK,0BAClC,qBAAKP,UAAU,WAAf,SAA0B,cAACoC,EAAA,EAAD,CAAkBI,WAAW,EAAMG,MAAQ8G,EAAUb,MAAO2C,OAAM,WAAO5B,GAAY3C,mBAAmB,SAEpI,sBAAKhH,UAAU,WAAf,UACE,qBAAKA,UAAU,aAAf,SAA6BO,EAAI,MACjC,sBAAKP,UAAU,WAAf,UACC,sBAAMwL,MAAOnB,YAAKnF,IAAY,WAAYlF,UAAS,UAAKqK,YAAKnF,IAAY,uBAAzE,SACC,cAAC9C,EAAA,EAAD,CAAkBO,MAAQ8G,EAAUqB,IAAM7D,aAAc,EAAGsE,OAAO,QACjElB,YAAKnF,IAAY,qCAAE,sCAAF,IAAkB,sBAAMlF,UAAU,+BAA+BwL,MAAOC,YAAUvG,GAAW3E,EAAK,aAAeA,EAAK,YAApG,SACpC,cAAC6B,EAAA,EAAD,CAAkBO,MAAS8G,EAAUe,MAAQhI,WAAW,EAAOyE,aAAc,EAAGsE,OAAO,iBAG9E,OAAZpD,GAAoB,sBAAKnI,UAAU,WAAf,UACpB,qBAAKA,UAAU,aAAf,SAA6BO,EAAK,2BAClC,qBAAKP,UAAU,WAAf,SAA0B,cAACoC,EAAA,EAAD,CAAmBI,WAAW,EAAMyE,aAAc,EAAGtE,MAAQ8G,EAAUmB,WAAYW,OAAS,IAAK5B,EAAS3C,mBAAmB,SAExJ,sBAAKhH,UAAU,WAAf,UACE,qBAAKA,UAAU,aAAf,SAA6BO,EAAK,6BAClC,qBAAKP,UAAU,WAAf,SAA0B,cAACoC,EAAA,EAAD,CAAkBI,WAAW,EAAMG,MAAQ8G,EAAUsB,QAAU9D,aAAc,EAAGsE,OAAQ,WAEpH,sBAAKvL,UAAU,WAAf,UACE,sBAAKA,UAAU,aAAf,UAA6ByJ,EAAU0B,YAAvC,OACA,sBAAKnL,UAAU,WAAf,UAA0B,cAACoC,EAAA,EAAD,CAAkBI,WAAW,EAAOG,MAAQ8G,EAAUzB,aAAef,aAAc,IAA7G,IAAmH,+BAAOwC,EAAU/B,OAApI,UAEW,OAAZS,GAAoB,sBAAKnI,UAAU,WAAf,UACpB,qBAAKA,UAAU,aAAf,SAA6BO,EAAK,gBAClC,sBAAKP,UAAU,WAAf,wBAAkC,cAACoC,EAAA,EAAD,CAAkBI,WAAW,EAAMkJ,OAAO,IAAI/I,MAAQ8G,EAAU2B,IAAMnE,aAAc,EAAGsE,OAAS,IAAK5B,UAExI,qBAAK3J,UAAU,oBAAf,SACC,qBAAKA,UAAU,mBAAf,SAA+C,OAAZmI,GAAoB,cAAC/F,EAAA,EAAD,CAAkBI,WAAW,EAAQG,MAAO8G,EAAUyB,OAAQK,OAAS,IAAK5B,EAAS1C,aAAc,QAE3J,cAAC,EAAD,CAAUkB,QAASA,EAAS9H,OAAQA,EAAQ8F,QAASA,EAASjB,QAASA,EAASsC,QAASiC,EAAWtE,UAAWwE,EAAQrE,SAAUA,EAAU8C,iBAAkByB,EAAmBrE,SAAUA,EAAUD,YAAaA,EAAahF,KAAMA,WInHzNoL,IARf,SAAyBtJ,GACvB,OACE,sBAAKrC,UAAU,iBAAf,UACE,cAAC4L,EAAA,EAAD,2BAAWvJ,GAAX,IAAkBwJ,aAAa,KAC/B,cAAC,EAAD,eAAexJ,S,+JCAN,SAASuJ,EAAT,GAAuD,IAAvCvL,EAAsC,EAAtCA,OAAOwL,EAA+B,EAA/BA,YAAYC,EAAmB,EAAnBA,aAAavL,EAAM,EAANA,KAAM,EACtCC,mBAAS,kBAD6B,mBAC7DT,EAD6D,KACpDgM,EADoD,OAEtCvL,oBAAS,GAF6B,mBAE7DwL,EAF6D,KAEpDC,EAFoD,OCJtD,SAAsB5L,GAAQ,IAAD,EACRG,mBAAS,IADD,mBACnC0L,EADmC,KACxBC,EADwB,KAEtCC,EAAW,KAETC,EAAa,uCAAI,sCAAAnL,EAAA,0DAClBb,EAAO4F,cADW,iCAEMqG,yBAAejM,EAAOoB,OAAOC,SAFnC,OAEbwK,EAFa,OAGbF,IAAYE,EAAUtD,OAAOhC,QAAQ,GACrC2F,EAAYL,EAAUM,QAAUN,EAAUzG,QAAQmB,QAAQ,GAAK,EAC/D6F,IAAkBP,EAAUQ,IAAI9F,QAAQ,GACxC+F,IAAqBT,EAAUU,OAAOhG,QAAQ,GAC9CT,EAAU+F,EAAU/F,QAC1BgG,EAAa,CAACH,UAAQO,YAAUE,gBAAcE,mBAAiBxG,YAR5C,4CAAJ,qDAiBnB,OALAlE,qBAAU,WAGR,OAFAmK,EAAWS,OAAOC,YAAYT,EAAc,MAC1CA,IACK,kBAAMU,cAAcX,MAC1B,CAAC/L,EAAOoB,OAAOC,UACX,CAACwK,EAAUE,GDdmBY,CAAa3M,GAHiB,mBAG7D6L,EAH6D,KAGnDe,EAHmD,OAI1BzM,mBAAS,IAJiB,mBAI7D0M,EAJ6D,KAI9CC,EAJ8C,KAK9DC,EEXQ,SAAmBjH,GAA4B,IAApBe,EAAmB,uDAAZ,YAC/C,OAAOkG,EAAOC,UAAQC,OAAOpG,GAAMf,IAAY,GFUjCoH,CAAUrB,EAAU/F,SAG7BqH,EAAK,uCAAG,sBAAAtM,EAAA,yDACTyH,YAAWtI,EAAOoB,OAAO0E,QAAQ+F,EAAU/F,SADlC,uBAEZnE,MAAM,GAAD,OAAIzB,EAAK,mBAAT,YAAgC6M,EAAOK,KAAvC,cAAkDlN,EAAK,cAAvD,YAAyE6M,EAAOK,KAAhF,YAAyFlN,EAAK,YAA9F,MAFO,6BAKkB,KAAzB2L,EAAUK,UALH,uBAMZvK,MAAMzB,EAAK,yBANC,+BASHmN,SAASC,KAAKC,MAAQ,KAAtB,MACA,MAVG,wBAWZ5L,MAAMzB,EAAK,oEAXC,4CAcKsN,qBAAWxN,EAAOoB,OAAO0E,QAAQ9F,EAAOoB,OAAOC,SAdpD,mBAeNK,QAfM,wBAgBZgL,cAAcE,GAhBF,mBAiBL,GAjBK,eAmBZjL,MAAMzB,EAAK,iBAnBC,mBAoBL,GApBK,4CAAH,qDAwBLL,EAAK,uCAAG,sBAAAgB,EAAA,0DACVb,EAAO4F,cADG,gCAEMuH,IAFN,eAIXvB,GAAW,GAJA,2CAAH,qDA4CV,OAxBAhK,qBAAU,WACV,IAAImK,EAAW,KAgBb,OAfCP,IAEFO,EAAWS,OAAOC,aAAY,WAC7B,IAAIgB,EAAS,MACTzM,EAAUqM,SAASC,KAAKC,MAAM,KAE9BG,EADaL,SAASrM,EAAUyM,GAAQA,EACpBA,EAASzM,EAC7B2M,EAAIN,SAASK,EAAM,MACnBE,EAAIP,SAAUK,EAAM,KAAM,IAC1BG,EAAIR,SAASK,EAAM,IACvBZ,EAAiB,GAAD,OAAIa,EAAJ,YAASzN,EAAI,EAAb,YAAsB0N,EAAtB,YAA2B1N,EAAI,EAA/B,YAAwC2N,EAAxC,YAA6C3N,EAAI,MAChE,MApBAF,EAAO4F,cACT8F,EAAWxL,EAAI,OAEfwL,EAAWxL,EAAK,mBAqBR,WACL6L,GAAYW,cAAcX,MAG3B,CAAC/L,EAAOoB,OAAOC,UAIhB,sBAAK1B,UAAU,YAAf,UACA,qBAAKA,UAAU,YAAf,SAA4B6L,EAAetL,EAAK,mDAAqDA,EAAK,yCACzGsL,GAAe,sBAAK7L,UAAU,WAAf,UACd,qBAAKA,UAAU,aAAf,SAA6BO,EAAK,kCAClC,qBAAKP,UAAU,WAAf,SAA4BkN,OAE9B,sBAAKlN,UAAU,WAAf,UACG6L,GAAe,qBAAK7L,UAAU,aAAf,SAA6BO,EAAK,2CACjDuL,GAAgB,qBAAK9L,UAAU,aAAf,SAA6BO,EAAK,6CACnD,sBAAKP,UAAU,WAAf,UAA4B6L,EAAcK,EAAUO,cAAgBP,EAAUS,iBAA9E,IAAiGpM,EAAI,WAEvG,sBAAKP,UAAU,WAAf,UACE,qBAAKA,UAAU,aAAf,SAA6BO,EAAK,kBAClC,qBAAKP,UAAU,WAAf,SAA2BgM,IAAaE,EAAUF,UAAaE,EAAUK,WAAY3F,QAAQ,GAAKsF,EAAUF,aAE9G,sBAAKhM,UAAU,WAAf,UACE,qBAAKA,UAAU,eACf,qBAAKA,UAAU,gBAEjB,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,aAAf,SAA6BO,EAAK,oBAClC,qBAAKP,UAAU,WAAf,SAA4BgM,EAAU,IAAME,EAAUK,WAAW3F,QAAQ,QAE1EkF,GACD,sBAAK9L,UAAU,WAAf,UACE,qBAAKA,UAAU,eACf,qBAAKA,UAAU,gBAEjB,qBAAKA,UAAU,oBAAf,SACG6L,GAAe,sBAAK7L,UAAU,aAAf,UAA6BO,EAAK,mBAAlC,IAAwD6M,EAAOK,KAA/D,KAAwElN,EAAK,cAA7E,IAA8F6M,EAAOK,KAArG,IAA6GlN,EAAK,iBAEpI,qBAAKP,UAAU,YAAf,SACC,cAACF,EAAA,EAAD,CAAQC,QAASA,EAASG,MAAOA,EAAOF,UAAU,QAAQO,KAAMA,W,wLG7G/D4N,EAAa,IAAIC,IAuERxJ,kBAAO,UAAPA,CAAkBC,aApEjC,YAAyE,IAAD,IAApDxE,cAAoD,MAA3C,GAA2C,EAAxC8H,EAAwC,EAAxCA,QAAQhC,EAAgC,EAAhCA,QAAQjB,EAAwB,EAAxBA,QAAQM,EAAgB,EAAhBA,SAASjF,EAAO,EAAPA,KAAO,EAC3BC,mBAAS,IADkB,mBAC/D6N,EAD+D,KAChDC,EADgD,OAE9B9N,mBAAS,IAFqB,mBAE/D+N,EAF+D,KAEjDC,EAFiD,KAGhEC,EAAUC,uBAEXC,EAAkB,uCAAG,kCAAAzN,EAAA,sEACHoL,yBAAejM,EAAOqB,SADnB,cACpBkN,EADoB,gBAECC,4BAAkB1I,EAAQjB,EAAQ7E,EAAOqB,SAF1C,OAEpBoN,EAFoB,OAGpBnC,IAAqBiC,EAAShC,OAAOhG,QAAQ,GAC7CmI,EAAyBD,EAAaE,SAC5CV,EAAkB,CAAC3B,mBAAiBoC,2BALV,2CAAH,qDAQlBE,EAAY,uCAAG,8BAAA/N,EAAA,sEACG4I,yBAAe3D,EAAQjB,GAD1B,OACdgK,EADc,OAEdC,EAA4BD,EAASF,SAC3CR,EAAgB,CAACW,8BAHG,2CAAH,qDAqBjB,OARDlN,qBAAU,WAKT,OAJG5B,GAAUA,EAAOqB,UACnBiN,IACAM,KAEM,eACL,IAGA,sBAAKjP,UAAU,gBAAf,UACE,qBAAKA,UAAU,YAAf,SAA4BO,EAAK,wBAC/B,sBAAKP,UAAU,WAAf,UACI,qBAAKA,UAAU,aAAf,SAA6BO,EAAK,0CAClC,qBAAKP,UAAU,WAAf,SAA4BuO,EAAaY,2BAA6B,OAE1E,sBAAKnP,UAAU,WAAf,UACI,qBAAKA,UAAU,aAAf,SAA6BO,EAAK,uCAClC,qBAAKP,UAAU,WAAf,SAA4BqO,EAAeU,wBAA0B,OAEzE,sBAAK/O,UAAU,WAAf,UACI,qBAAKA,UAAU,eACf,qBAAKA,UAAU,gBAEnB,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,eACf,qBAAKA,UAAU,gBAEnB,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,eACf,qBAAKA,UAAU,gBAEnB,qBAAKA,UAAU,sBAGf,qBAAKA,UAAU,YAAf,SACI,wBAAQA,UAAU,QAAQiB,QA1CpB,WACd,IAAMmO,EAAUjB,EAAWkB,KAAKlH,GAC1BiF,EAASjF,EAAQmH,KAAOF,EAAQG,MAAK,SAAAC,GAAC,OAAI7G,YAAW6G,EAAE7N,KAAKuD,MAAYkK,EAAQG,MAAK,SAAAC,GAAC,OAAI7G,YAAW6G,EAAE7N,KAAKuD,IAAYsK,EAAEhK,WAAaA,KAC7IiK,YAAYtH,EAAQ9G,QAAQ+L,GAC5BqB,EAAQiB,KAAK,UAsCL,SACGnP,EAAI,iBCtEJ,SAASoP,EAAT,GAAwC,IAAlBtP,EAAiB,EAAjBA,OAAUgC,EAAO,0BACpD,OACE,sBAAKrC,UAAU,aAAf,UACE,cAAC4L,EAAA,EAAD,2BAAWvJ,GAAX,IAAkBhC,OAAQA,EAAQyL,cAAc,KACnD,cAAC,EAAD,eAAezJ,S,iCCLlB8B,OAAOyL,eAAeC,EAAS,aAAc,CAC3ClN,OAAO,IAGT,IAIgCmN,EAJ5BC,EAASC,EAAQ,KAEjBC,GAE4BH,EAFKC,IAEgBD,EAAII,WAAaJ,EAAM,CAAEK,QAASL,GAEvFD,EAAQM,QAAUF,EAAQE,QAC1BC,EAAOP,QAAUA,EAAO","file":"static/js/4.2df3e271.chunk.js","sourcesContent":["import {useState,useRef,useEffect} from 'react';\nexport default function Button({btnText,className,disabled,click,afterClick,checkApprove,wallet,spec,lang}){\n  const [status, setStatus] = useState(disabled ? 'disabled' : 'enabled');\n  const [isApproved, setIsApproved] = useState(true);\n  const [pending, setPending] = useState(false);\n  const loadRef = useRef(null)\n\n  const onClick = async () => {\n    if(status !== 'enabled') {\n      return ;\n    }\n    beforeAction()\n    const result = await click();    \n    if(result){\n      afterClick && afterClick()\n    } \n    afterAction()\n  }\n\n  const beforeAction = ()  => {\n    setStatus('disabled')\n    setPending(true);\n    loadRef.current && (loadRef.current.style.display = 'inline-block')\n  }\n\n  const afterAction = () => {\n    loadRef.current && (loadRef.current.style.display = 'none')\n    setStatus('enabled')\n    setPending(false);\n  }\n\n  const loadApproveStatus = async () => {\n    if(checkApprove && wallet && wallet.detail.account){\n      const res = await wallet.isApproved(spec.pool,spec.bTokenId)\n      setIsApproved(res);\n    }\n  }\n  const approve = async () => {\n    beforeAction();\n    const res = await wallet.approve(spec.pool,spec.bTokenId);\n    if(res.success){\n      setIsApproved(true);\n    } else {\n      setIsApproved(false)\n      alert(lang['approve-failed'])\n    }\n    afterAction();\n  }\n\n  const action = () => {\n    if(isApproved){\n      onClick();\n    } else {\n      approve();\n    }\n  }\n\n  useEffect(() => {\n    loadApproveStatus();\n    return () => {};\n  }, [wallet,spec,checkApprove]);\n\n  return(\n    <button className={className} onClick={action} >\n        <span className='btn-loading-wrap'>\n          <span ref={loadRef}\n            className='spinner spinner-border spinner-border-sm'\n            style={{display : 'none' ,marginRight : '2'}}>\n          </span>\n        </span>\n          {pending ? lang['pending'] : (isApproved ? btnText : lang['approve'])  }\n        </button>\n  )\n}","import React,{useState,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\n\nexport default function DeriNumberFormat(props){\n  const [renderablity, setRenderablity] = useState('--');\n\n  useEffect(() => {\n    const {allowZero,...others} = props \n    if(((props.value !== undefined && props.value !== '' && props.value !== 'NaN') || ((isNaN(props.value) && Math.abs(props.value)) === 0 && allowZero === true ))) {\n      setRenderablity(<NumberFormat {...others} displayType = 'text' />)\n    } \n    return () => {};\n  }, [props.value]);\n\n  return renderablity;\n}","import React from 'react'\nimport Modal from 'react-modal/lib/components/Modal';\nimport { inject, observer } from 'mobx-react';\n\nconst withModal = Component => {\n  const appElement = document.getElementById('root')\n  const customizeStyle =  {\n    overlay: {\n      position: 'fixed',\n      zIndex : 1,\n      background : 'rgb(0 0 0 / 0.5)'\n    },\n    content: {\n      position: 'absolute',\n      border : 0,\n      background : 'none',\n      inset : 0,\n      overflow : 'initial'\n    }\n  };\n\n  class WithModal extends React.Component {\n    constructor(props){\n      super(props)\n      this.state = {\n        modalIsOpen : false\n      }\n    }\n\n    render(){\n      const {modalIsOpen,className,overlay = {}} = this.props\n      const overlayMerged = Object.assign(customizeStyle.overlay,{...overlay})\n      const mergedStyle = Object.assign(customizeStyle,{overlay :overlayMerged})\n      return (\n        <Modal isOpen={modalIsOpen} style={mergedStyle} appElement={appElement} portalClassName={this.props.intl.locale}>\n          <div className={className}>\n            <Component {...this.props} className={className} onClose={this.props.onClose}/>\n          </div>\n        </Modal>\n      )\n    }\n  }\n\n  return inject('intl')(observer(WithModal)) ;\n}\nexport default withModal;","import { useEffect } from 'react'\n\nexport default function useDisableScroll(nested) {\n  \n  useEffect(() => {\n    // window.scrollTo(0, 0);\n    document.querySelector('body').style.overflow = 'hidden'\n    return () => {\n      if(!nested){\n        document.querySelector('body').style.overflow = 'auto'\n      }\n    };\n  }, []);\n  return null;\n}\n","import React, { useState, useEffect} from 'react'\nimport {\n\tgetLiquidityInfo,getPoolInfoApy,isUnlocked,unlock,getPoolLiquidity, getWalletBalance, unlockLp, isLpUnlocked, getLpWalletBalance, getLpLiquidityInfo,getLpPoolInfoApy, bg\n} from '../../../lib/web3js/indexV2'\nimport AddLiquidity from './Dialog/AddLiquidity';\nimport RemoveLiquidity from './Dialog/RemoveLiquidity';\nimport Button from '../../Button/Button';\nimport { inject, observer } from 'mobx-react';\nimport withModal from '../../hoc/withModal';\nimport { eqInNumber, isCakeLP, isLP, isSushiLP } from '../../../utils/utils';\nimport DeriNumberFormat from '../../../utils/DeriNumberFormat';\n\nfunction Liquidity({wallet,version,chainId,baseToken,address,type,baseTokenId,symbolId,lang}) {\n  const [liquidity,setLiquidity] = useState({})\n  const [bToken,setBToken] = useState(baseToken)\n\tconst isLpPool = (type === 'lp')\n\tconst loadLiquidityInfo = async () => {\n\t\tconst apyPool = await getPoolInfoApy(chainId,address,baseTokenId)\n\t\tconst pooLiquidity = await getPoolLiquidity(chainId,address,baseTokenId);\n\t\tif(wallet.isConnected() && eqInNumber(chainId , wallet.detail.chainId)){\n\t\t\tlet info = null;\n\t\t\tif(isLpPool){\n\t\t\t\tinfo = await getLpLiquidityInfo(chainId,address,wallet.detail.account)\n\t\t\t} else {\n\t\t\t\tinfo = await getLiquidityInfo(chainId,address,wallet.detail.account,baseTokenId);\n\t\t\t}\n\t\t\tlet lpApy ;\n\t\t\tif(isLP(address)){\n\t\t\t\tlet lapy = await getLpPoolInfoApy(chainId,address)\n\t\t\t\tlpApy = (+lapy.apy2) * 100;                     \t\t\t\t\t\t\n\t\t\t\t// if(!info.shareValue){\n\t\t\t\t// \tinfo.shareValue = 1; \n\t\t\t\t// }\n\t\t\t}\n\t\t\tif(info){\n\t\t\t\tconst shares = bg(info.shares)\n\t\t\t\tif(version === 'v1') {\n\t\t\t\t\tconst total = shares.multipliedBy(info.shareValue)\n\t\t\t\t\tsetLiquidity({\n\t\t\t\t\t\ttotal :  (+info.poolLiquidity),\n\t\t\t\t\t\tapy : ((+apyPool.apy) * 100).toFixed(2),\n\t\t\t\t\t\tshareValue : info.shareValue,\n\t\t\t\t\t\tpercent : info.poolLiquidity > 0 ? total.dividedBy(info.poolLiquidity).multipliedBy(100).toFixed(2) : 0,\n\t\t\t\t\t\tshares : shares.toFixed(2),\n\t\t\t\t\t\tformatShares : shares.toFixed(2),\n\t\t\t\t\t\ttotalShares : bg(shares).toString(),\n\t\t\t\t\t\tvalues : total.toFixed(2),\n\t\t\t\t\t\tlpApy,\n\t\t\t\t\t\tunit : lang['shares'],\n\t\t\t\t\t\tsharesTitle : lang['staked-balance']\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tsetLiquidity({\n\t\t\t\t\t\ttotal : (+info.poolLiquidity),\n\t\t\t\t\t\tapy : ((+apyPool.apy) * 100).toFixed(2),\n\t\t\t\t\t\tpnl : (+info.pnl).toFixed(2),\n\t\t\t\t\t\tshares : shares.toString(),\n\t\t\t\t\t\tformatShares : shares.toFixed(2),\n\t\t\t\t\t\ttotalShares : bg(shares).plus(info.pnl).toString(),\n\t\t\t\t\t\tpercent : info.poolLiquidity > 0 ? shares.dividedBy(info.poolLiquidity).multipliedBy(100).toFixed(2) : 0,\n\t\t\t\t\t\tunit : baseToken,\n\t\t\t\t\t\tsharesTitle : lang['my-Liquidity'],\n\t\t\t\t\t})\n\t\t\t\t}\t\n\t\t\t}\n\t\t} else {\n\t\t\t\n\t\t\tlet lpApy ;\n\t\t\tif(isLP(address)){\n\t\t\t\tlet lapy = await getLpPoolInfoApy(chainId,address)\n        \t\tlpApy = (+lapy.apy2) * 100;                           \n\t\t\t}\n\t\t\tif(pooLiquidity){\n\t\t\t\tsetLiquidity({\n\t\t\t\t\ttotal : pooLiquidity.liquidity,\n\t\t\t\t\tapy : (+apyPool.apy) * 100,\n\t\t\t\t\tlpApy\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tloadLiquidityInfo();\n\t\t//cake 显示的baseToken 不一致，特殊处理\n\t\tif(isCakeLP(address)){\n\t\t\tsetBToken('CAKE-LP')\n\t\t}\n\t\treturn () => {}\n\t}, [wallet.detail.account,baseToken])\n\n\n  return (\n    <div className=\"liquidity-box\">\n      <div className=\"odd title\">{lang['provide']} { bToken } {lang['earn-deri']}</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">{lang['pool-total-liquidity']}</div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true} value={ liquidity.total} suffix={` ${ bToken}`  } thousandSeparator={true}/></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">{lang['apy']}</div>\n\t\t\t\t\t\t<div className='text-num' >\n\t\t\t\t\t\t\t<span title={isLP(address) && 'DERI-APY'} className={`${isLP(address) && 'sushi-apy-underline'}`}>\n\t\t\t\t\t\t\t\t<DeriNumberFormat value={ liquidity.apy } decimalScale={2} suffix='%'/></span>\n\t\t\t\t\t\t\t\t{isLP(address) && <><span> +</span> <span className=\"sushi-apy-underline text-num\" title={isSushiLP(address) ? lang['sushi-apy'] : lang['cake-apy']}> \n\t\t\t\t\t\t\t\t<DeriNumberFormat value={  liquidity.lpApy } allowZero={true}  decimalScale={2} suffix='%'/></span></>}\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t</div>\t\n\t\t\t\t{version === 'v1' && <div className=\"odd text\">\n\t\t\t\t\t<div className=\"text-title\">{lang['liquidity-share-value']}</div>\n\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat  allowZero={true} decimalScale={6} value={ liquidity.shareValue} suffix={ ' '+ bToken } thousandSeparator={true}/></div>\t\t\t\t\t\t\n\t\t\t\t</div>}\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">{lang['my-liquidity-pencentage']}</div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true} value={ liquidity.percent } decimalScale={2} suffix={'%'}/></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"odd text\">\n\t\t\t\t\t\t<div className=\"text-title\">{liquidity.sharesTitle} </div>\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true}  value={ liquidity.formatShares } decimalScale={2} /> <span>{liquidity.unit}</span> </div>\n\t\t\t\t</div>\n\t\t\t\t{version === 'v2' && <div className=\"odd text\">\n\t\t\t\t\t<div className='text-title'>{lang['mining-pnl']}</div>\n\t\t\t\t\t<div className=\"text-num\">≈ &nbsp;<DeriNumberFormat allowZero={true} prefix=' ' value={ liquidity.pnl } decimalScale={2} suffix ={' '+ bToken }  /></div>\n\t\t\t\t</div>}\n\t\t\t\t<div className=\"odd claim-network\">\n\t\t\t\t\t<div className=\"text-title money\">{version === 'v1' && <DeriNumberFormat allowZero={true}   value={liquidity.values} suffix ={' '+ bToken } decimalScale={2}/>}</div>\t\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<Operator version={version} wallet={wallet} chainId={chainId} address={address} liqInfo={liquidity} baseToken={bToken} isLpPool={isLpPool} loadLiqidityInfo={loadLiquidityInfo} symbolId={symbolId} baseTokenId={baseTokenId} lang={lang}/>\n\t</div>\n  )\n}\n\n\nconst AddDialog = withModal(AddLiquidity)\nconst RemoveDialog = withModal(RemoveLiquidity)\n\n//操作区\nconst Operator = ({version,wallet,chainId,address,baseToken,isLpPool,liqInfo,loadLiqidityInfo,baseTokenId,symbolId,lang})=> {\n\tconst [isApproved,setIsApproved] = useState(false)\n\tconst [btnType, setBtnType] = useState('add')\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst [balance, setBalance] = useState('');\n\tconst [buttonElment, setButtonElment] = useState(null);\n\t\n\n  const loadBalance = async () => {\n    if(wallet.isConnected() && eqInNumber(wallet.detail.chainId,chainId)){\n\t\t\tlet total = null;\n\t\t\tif(isLpPool){\n\t\t\t\ttotal = await getLpWalletBalance(wallet.detail.chainId,address,wallet.detail.account);\n\t\t\t} else {\n\t\t\t\ttotal = await getWalletBalance(wallet.detail.chainId,address,wallet.detail.account,baseTokenId);\n\t\t\t}\n\t\t\tif(typeof total !== 'object'){\n\t\t\t\tsetBalance(total)\t\t\t\t\n\t\t\t}\n    }\n  }\n\n  useEffect(() => {\n\t\tloadBalance();\n\t\tloadLiqidityInfo();\n    return () => {}\n  }, [wallet.detail.account])\n\n\n\tconst isApprove = async () => {\n\t\tif(isLpPool){\n\t\t\tconst result = await isLpUnlocked(chainId,address,wallet.detail.account) \t\t\t \n\t\t\tsetIsApproved(result);\n\t\t\treturn result;\n\t\t} else {\n\t\t\tconst result = await isUnlocked(chainId,address,wallet.detail.account,baseTokenId) \t\t\t \n\t\t\tsetIsApproved(result);\n\t\t\treturn result;\n\t\t}\n\t}\n\t\n\n\n\tconst approve = async () => {\n\t\tlet res = null;\n\t\tif(isLpPool){\n\t\t\tres = await unlockLp(chainId,address,wallet.detail.account);\n\t\t} else {\n\t\t\tres = await unlock(chainId,address,wallet.detail.account,baseTokenId);\n\t\t}\t\t\n\t\tif(res && res.success){\n\t\t\tsetIsApproved(true)\n\t\t} else {\n\t\t\talert(res.error ?  res.error.message || lang['approve-failed'] : lang['approve-failed'])\n\t\t}\n  }\n\n\n\tconst connect =  async () => {\n\t\tawait wallet.connect();\n\t}\n\t\n\tconst addLiquidity = () => {\n\t\tsetIsOpen(true);\n\t\tsetBtnType('add')\n\t}\n\n\tconst afterClick = () => {\n\t\tsetIsOpen(false);\n\t\t// loadLiquidity()\n\t\tloadBalance();\n\t\tloadLiqidityInfo();\n\t}\n\n\tconst removeLiquidity = () => {\n\t\tsetIsOpen(true);\n\t\tsetBtnType('remove')\n\t}\n\n\n  \n  useEffect(() => {\n\t\t//todo 判断网络\n    if(wallet.isConnected() && eqInNumber(wallet.detail.chainId, chainId)){\n\t\t\tisApprove()\n    }\n\t\treturn () => {}\n\t}, [wallet.detail.account])\n\n\tuseEffect(() => {\t\t\n\t\tif(wallet.isConnected() && eqInNumber(wallet.detail.chainId,chainId) && isApproved){\n\t\t\tsetButtonElment((<div className=\"add-remove-liquidity\">\n\t\t\t<button \n\t\t\t\t\tclassName=\"add-liquidity\"\n\t\t\t\t\tonClick={addLiquidity}>\n\t\t\t\t\t{lang['add-liquidity']}\n\t\t\t</button>\n\t\t\t<button className=\"remove-liquidity\" onClick={removeLiquidity}>\n\t\t\t\t\t{lang['remove-liquidity']}\n\t\t\t</button>\n\t\t</div>))\n\t\t} else {\n\t\t\tlet el = null\n\t\t\tif(!wallet.isConnected()){\n\t\t\t\tel = <div className='approve'><Button className='approve-btn' click={connect} btnText={lang['connect-callet']} lang={lang}></Button></div>\n\t\t\t} else if(!eqInNumber(wallet.detail.chainId,chainId)) {\n\t\t\t\tel = <div className=\"approve\" ><Button className='approve-btn wrong-network' btnText={lang['wrong-network']} lang={lang}></Button></div>\t\t\t\t\n\t\t\t} else if(!isApproved) {\n\t\t\t\tel = <div className='approve'><Button className='approve-btn' click={approve} btnText={lang['approve']} lang={lang}></Button></div>\n\t\t\t} \n\t\t\tsetButtonElment(el)\n\t\t}\n\t\t\t\n\t\treturn () => {};\n\t}, [wallet.detail.account,isApproved]);\n\n  return (\n    <div className=\"liquidity-btn\">\n\t\t\t{\n\t\t\t\tbtnType === 'add' \n\t\t\t\t? <AddDialog  modalIsOpen={isOpen} isLpPool={isLpPool} onClose={afterClick} balance={balance}\n\t\t\t\t\t\t\t\t\t\t  address={address} wallet={wallet} baseToken={baseToken} afterAdd={afterClick} baseTokenId={baseTokenId}  symbolId={symbolId} lang={lang}/> \n\t\t\t\t: <RemoveDialog  modalIsOpen={isOpen} isLpPool={isLpPool} onClose={afterClick} liqInfo={liqInfo}  \n\t\t\t\t\t\t\t\t\t\t\taddress={address} wallet={wallet} unit={version === 'v1' ? lang['shares'] :baseToken} afterRemove={afterClick} baseTokenId={baseTokenId} symbolId={symbolId} lang={lang}/>\n\t\t\t}\t\t\t\n\t\t\t{buttonElment}\n  </div>\n  )\n}\n\nexport default inject('wallet')(observer(Liquidity))","import React, { useState ,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\nimport Button from '../../../Button/Button';\nimport Modal from 'react-modal'\nimport { addLiquidity, getWalletBalance, bg, addLpLiquidity } from '../../../../lib/web3js/indexV2';\nimport useSpecification from '../../../../hooks/useSpecification';\nimport useDisableScroll from '../../../../hooks/useDisableScroll';\n\n\n\nexport default function AddLiquidity({wallet,address,baseToken,onClose,afterAdd,balance,isLpPool,baseTokenId,symbolId,lang}){\n  const [amount, setAmount] = useState('0');\n  const [decimal, setDecimal] = useState('00');\n  const [addValue, setAddValue] = useState('')\n  const spec = useSpecification({wallet,address,symbolId});\n  useDisableScroll();\n\n\n  const input = (e) => {\n    const {value} =e.target\n    setAddValue(value)\n  }\n\n  const addAll = () => {\n    setAddValue(balance);\n  }\n\n  const addLiq = async () => {\n    const max = bg(balance)\n    const cur = bg(addValue);\n    if(cur.gt(max)) {\n      alert(lang['not-sufficient-funds']);\n      return false;\n    }\n    if(spec && (+addValue) < (+spec.minAddLiquidity)) {\n      alert(`${lang['the-input-liquidity-shall-not-be-less-than']} ${spec.minAddLiquidity}`);\n      return false;\n    }\n    if(addValue <=0 || isNaN(addValue)){\n      alert(lang['it-has-to-be-greater-than-zero']);\n      return false;\n    }\n    let res =  null;\n    if(isLpPool){\n      res = await addLpLiquidity(wallet.detail.chainId,address,wallet.detail.account,addValue);\n    } else{\n      res = await addLiquidity(wallet.detail.chainId,address,wallet.detail.account,addValue,baseTokenId)\n    }\n    \n    if (!res ||  !res.success) {\n      alert(lang['failure-of-transaction']);\n    }\n    return true;\n  }\n\n  useEffect(() => {    \n    const amount = (+balance).toFixed(2)\n    const decimal = amount.substring(amount.indexOf('.') + 1,amount.length)\n    setAmount(amount);\n    setDecimal(decimal)\n    return () => {};\n  }, [balance]);\n\n\n  return(\n    <div className='modal-dialog'>\n        <div className='modal-content'>\n          <div className='modal-header'>\n            <div className='title'>{lang['add-liquidity']}</div>\n            <div className='close' onClick={onClose}>\n              <span>&times;</span>\n            </div>\n          </div>\n          <div className='modal-body'>\n            <div className='margin-box-info'>\n              <div>{lang['wallet-balance']}</div>\n              <div className='money'>\n                <span> \n                  <span className='bt-balance'>\n                    <NumberFormat displayType='text' value ={amount } thousandSeparator={true} allowZero={true} decimalScale={0}/>.\n                    <span className='float'><NumberFormat displayType='text' value ={decimal} thousandSeparator={true} decimalScale={2} allowZero={true}/></span>\n                  </span> \n                    <div className='base-token'>{ baseToken }</div> \n                  </span>\n                <span className='add'></span>\n              </div>\n              <div className='enter-margin'>\n                <div className='input-margin'>\n                  <div className='box'>\n                    <div className='amount' style={{display : addValue ? 'block' : 'none'}}>{lang['liquidity']}</div>\n                    <input\n                      type='number'\n                      className='margin-value'\n                      placeholder={lang['liquidity']}\n                      value={addValue}\n                      onChange={input}\n                    />\n                  </div>\n                </div>\n                <div>{ baseToken }</div>\n              </div>\n              <div className='max'>\n                {lang['max']}: <span className='max-num'>{balance }</span>\n                <span className='max-btn-left' onClick={addAll}>{lang['add-all']}</span>\n              </div>\n              <div className='add-margin-btn'>\n                <Button className='margin-btn' click={addLiq} btnText={lang['add']} afterClick={afterAdd} lang={lang}/>\n              </div>\n            </div>\n          </div>    \n        </div>\n      </div>\n  )\n}","import { useState, useEffect } from 'react'\nimport { getSpecification } from \"../lib/web3js/indexV2\";\n\nexport default function useSpecification({wallet,address,symbolId}){\n  const [spec, setSpec] = useState({});\n\n  const loadSpec = async () => {\n    if(wallet.isConnected() && address){\n      const spec =  await getSpecification(wallet.detail.chainId,address,symbolId);\n      setSpec(spec);\n    }\n  }\n\n  useEffect(() => {\n    loadSpec();\n    return () => {      \n    }\n  }, wallet.detail.account,address);\n\n  return spec;\n}","import React, { useState ,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\nimport { removeLiquidity, bg, removeLpLiquidity } from '../../../../lib/web3js/indexV2';\nimport Button from '../../../Button/Button';\nimport useDisableScroll from '../../../../hooks/useDisableScroll';\n\nexport default function RemoveLiquidity({wallet,address,liqInfo,onClose,afterRemove,isLpPool,baseTokenId,unit,lang}){  \n  const [amount, setAmount] = useState('');\n  const [balance, setBalance] = useState('0');\n  const [decimal, setDecimal] = useState('00');\n  useDisableScroll();\n\n\n  const addAll = () => {\n    setAmount(liqInfo.totalShares)\n  }\n\n  const onChange = e => {\n    const {value} = e.target;\n    setAmount(value)\n  }\n\n  const remove = async () => {\n    const max = bg(liqInfo.totalShares);\n    const cur = bg(amount);\n    if (cur.gt(max)) {\n      alert(`${lang['your-current-max-removable-shares-are']}  ${liqInfo.totalShares}`);\n      return false;\n    }\n    if(!isLpPool){\n      const balance = (+liqInfo.totalShares) - (+amount)\n      if (balance < 1 && balance > 0) {\n        alert(lang['staking-max-limit-tip']);\n        return false;\n      }\n    }\n    if (+amount <= 0 || isNaN(amount)) {\n      alert(lang['invalid-liquidity']);\n      return false;\n    }\n    let res = null;\n    if(isLpPool){\n      res = await removeLpLiquidity(wallet.detail.chainId,address,wallet.detail.account,amount);\n    } else {\n      res = await removeLiquidity(wallet.detail.chainId,address,wallet.detail.account,amount,baseTokenId);\n    }\n    \n    if(!res || !res.success){\n      alert(lang['failure-of-transaction']);\n      return false; \n    }\n    return true;\n  }\n\n\n  useEffect(() => {    \n    if(liqInfo && liqInfo.formatShares){\n      const balance = liqInfo.formatShares;\n      const decimal = balance.substring(balance.indexOf('.') +1 ,balance.indexOf('.') + 3)\n      setBalance(balance);\n      setDecimal(decimal)\n    }\n    return () => {};\n  }, [liqInfo.totalShares]);\n\n  \n  \n  return(\n    <div className='modal-dialog'>\n        <div className='modal-content'>\n          <div className='modal-header'>\n            <div className='title'>{lang['remove-liquidity']}</div>\n            <div className='close' data-dismiss='modal' onClick={onClose}>\n              <span>&times;</span>\n            </div>\n          </div>\n          <div className='modal-body'>          \n            <div className='margin-box-info'>\n              <div> {lang['shares-available']}</div>\n              <div className='money'>\n                <span>\n                  <span className='bt-balance'>\n                    <NumberFormat displayType='text' value ={balance} decimalScale={0} thousandSeparator={true}/>.\n                    <span className='float'>{decimal}</span>\n                  </span>\n                    </span>\n                <span className='remove'></span>\n              </div>\n              <div className='enter-margin'>\n                <div className='input-margin'>\n                  <div className='box'>\n                    <div className='amount' style={{display : amount ? 'block' : 'none'}}>\n                      {lang['liquidity-shares']}\n                    </div>\n                    <input\n                      type='number'\n                      className='margin-value'\n                      placeholder={lang['liquidity-shares']}\n                      value={amount}\n                      onChange={onChange}\n                    />\n                  </div>\n                </div>\n                <div>{unit}</div>\n              </div>\n              <div className='max'>\n                <span>{lang['max-removeable']}</span>\n                <span className='max-num'>{liqInfo.totalShares}</span>\n                <span className='max-btn-left' onClick={addAll}>{lang['remove-all']}</span>\n              </div>\n              <div className='add-margin-btn'>\n                <Button click={remove} className='margin-btn' btnText={lang['remove']} afterClick={afterRemove} lang={lang}/>\n              </div>\n            </div>\n          </div>    \n        </div>\n      </div>\n      )\n}","import Claim from '../../Claim/Claim';\nimport Liquidity from './Liquidity';\n\n\nfunction LiquidityMining(props){\n  return (\n    <div className=\"liquidity-info\">\n      <Claim {...props} miningClaim={true}/>\n      <Liquidity {...props}/>\n  </div>)\n}\n\nexport default LiquidityMining","import { useState, useEffect} from 'react'\n\nimport useClaimInfo from \"../../hooks/useClaimInfo\";\nimport useConfig from \"../../hooks/useConfig\";\nimport { mintDToken } from \"../../lib/web3js/indexV2\";\nimport Button from '../Button/Button';\nimport { eqInNumber } from '../../utils/utils';\n\nexport default function Claim({wallet,miningClaim,tradingClaim,lang}){\n\tconst [btnText, setBtnText] = useState('Collect Wallet')\n\tconst [claimed, setClaimed] = useState(false);\n\tconst [claimInfo,claimInfoInterval] = useClaimInfo(wallet);\n\tconst [remainingTime, setRemainingTime] = useState('')\n\tconst config = useConfig(claimInfo.chainId) \n\n  //claim deri\n\tconst claim = async () => {\n\t\tif(!eqInNumber(wallet.detail.chainId,claimInfo.chainId)) {\n\t\t\talert(`${lang['your-deri-is-on']} ${ config.text } . ${lang['connect-to']} ${ config.text } ${lang['to-claim']}.`)\n\t\t\treturn ;\n\t\t}\n\t\tif ((+claimInfo.unclaimed) === 0) {\n\t\t\talert(lang['no-deri-to-claim-yet']);\n\t\t\treturn;\n\t\t}\n\t\tlet now = parseInt(Date.now() / 1000) % (3600 * 8);\n\t\tif (now < 1800) {\n\t\t\talert(lang['claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch']);\n\t\t\treturn;\n\t\t}\n\t\tconst res = await mintDToken(wallet.detail.chainId,wallet.detail.account)\n\t\tif(res.success){\n\t\t\tclearInterval(claimInfoInterval);\n\t\t\treturn true;\n\t\t} else {\n\t\t\talert(lang['claim-failed'])\n\t\t\treturn false;\n\t\t}\n  }\n\n\tconst click = async () => {\n\t\tif(wallet.isConnected()){\n\t\t\tconst res = await claim();\n\t\t\tif(res){\n\t\t\t\tsetClaimed(true)\n\t\t\t}\n\t\t} \n\t}\n\n\n\t\n\t//初始化按钮文案和事件\n\tconst initButton = () => {\n\t\tif(wallet.isConnected()){\n\t\t\tsetBtnText(lang['claim'])\n\t\t} else {\n\t\t\tsetBtnText(lang['collect-wallet'])\n\t\t}\n\t}\n  \n  useEffect(() => {\n\t\tlet interval = null;\n\t\tif(miningClaim){\n\t\t\t//计数器\n\t\t\tinterval = window.setInterval(() => {\n\t\t\t\tlet period = 3600 * 8;\n\t\t\t\tlet current = parseInt(Date.now()/1000);\n\t\t\t\tlet epochBegin = parseInt(current / period)*period;\n\t\t\t\tlet dis = (epochBegin + period - current);\n\t\t\t\tlet h = parseInt(dis / 3600);\n\t\t\t\tlet m = parseInt((dis % 3600)/60)\n\t\t\t\tlet s = parseInt(dis % 60) \n\t\t\t\tsetRemainingTime(`${h} ${lang['h']} ${m} ${lang['m']} ${s} ${lang['s']}`);\n\t\t\t},1000);\n\t\t}    \n\n\t\tinitButton();\t\t\n    return () => {\n      interval && clearInterval(interval);\n\t\t};\n\t\t\n  }, [wallet.detail.account]);\n\n\n  return (\n    <div className='claim-box'>\n\t\t\t\t<div className='odd title'>{miningClaim ?  lang['my-liquidity-providing-harvest-in-current-epoch'] : lang['my-trading-harvest-in-current-epoch']}</div>\n\t\t\t\t{miningClaim && <div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>{lang['current-epoch-remaining-time']}</div>\n\t\t\t\t\t\t<div className='text-num'>{ remainingTime }</div>\n\t\t\t\t</div>}\t\t\t\t\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t{miningClaim && <div className='text-title'>{lang['my-harvest-in-current-epoch-estimated']}</div>}\n\t\t\t\t\t\t{tradingClaim && <div className='text-title'>{lang['my-trading-harvest-in-current-epoch-Est']}</div>}\n\t\t\t\t\t\t<div className='text-num'>{ miningClaim ? claimInfo.harvestDeriLp : claimInfo.harvestDeriTrade} {lang['deri']}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>{lang['claimed-deri']}</div>\n\t\t\t\t\t\t<div className='text-num'>{claimed ? ((+claimInfo.claimed) + (+claimInfo.unclaimed)).toFixed(2) : claimInfo.claimed }</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'></div>\n\t\t\t\t\t\t<div className='text-num'></div>\n\t\t\t\t</div>\n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'>{lang['unclaimed-deri']}</div>\n\t\t\t\t\t\t<div className='text-num'>{ claimed ? 0 : (+claimInfo.unclaimed).toFixed(2) }</div>\n\t\t\t\t</div>\n\t\t\t\t{tradingClaim && \n\t\t\t\t<div className='odd text'>\n\t\t\t\t\t\t<div className='text-title'></div>\n\t\t\t\t\t\t<div className='text-num'></div>\n\t\t\t\t</div>}\n\t\t\t\t<div className='odd claim-network'>\n\t\t\t\t\t\t{miningClaim && <div className='text-title'>{lang['your-deri-is-on']} { config.text }  {lang['connect-to']} { config.text } {lang['to-claim']}</div>}\n\t\t\t\t</div>\n\t\t\t\t<div className='claim-btn'>\n\t\t\t\t\t<Button btnText={btnText} click={click} className='claim' lang={lang}/>\t\t\t\t\t\n\t\t\t\t</div>\n      </div>\n  ) \n}","import { useState, useEffect } from 'react'\nimport { getUserInfoAll ,deriToNatural} from '../lib/web3js/indexV2';\n\n\nexport default function useClaimInfo(wallet){\n  const [claimInfo, setClaimInfo] = useState({});\n  let interval = null;\n\n  const loadClaimInfo =  async () => {\n    if(wallet.isConnected()){\n      const claimInfo  = await getUserInfoAll(wallet.detail.account);\n      const claimed = (+claimInfo.total).toFixed(2);\n      const unclaimed = claimInfo.valid ? (+claimInfo.amount).toFixed(2) : 0;\n      const harvestDeriLp = (+claimInfo.lp).toFixed(2);\n      const harvestDeriTrade = (+claimInfo.trade).toFixed(2);\n      const chainId = claimInfo.chainId\n      setClaimInfo({claimed,unclaimed,harvestDeriLp,harvestDeriTrade,chainId})\n    }\n  }\n\n  useEffect(() => {\n    interval = window.setInterval(loadClaimInfo,1000 * 60 *3);\n      loadClaimInfo();\n    return () => clearInterval(interval);\n  }, [wallet.detail.account])\n  return [claimInfo,interval];\n}","import config from '../config.json'\nimport {DeriEnv} from '../lib/web3js/indexV2'\nexport default function useConfig(chainId,type = 'chainInfo'){\n  return config[DeriEnv.get()][type][chainId] || {};\n}","import { useState, useEffect } from 'react'\nimport {Link} from 'react-router-dom'\nimport { getUserInfoAll,getUserInfoInPool ,getPoolInfoApy} from '../../../lib/web3js/indexV2';\nimport { useHistory } from 'react-router-dom';\nimport { inject, observer } from 'mobx-react';\nimport { storeConfig, eqInNumber } from '../../../utils/utils';\nimport Config from '../../../model/Config';\n\nconst configInfo = new Config();\n\n\nfunction Liquidity({wallet = {},version,chainId,address,symbolId,lang}) {\n  const [userInfoInPool,setUserInfoInPool] = useState({})\n  const [tradeSummary, setTradeSummary] = useState({});\n  const history = useHistory();\n\n\tconst loadUserInfoInPool = async () => {\n\t\tconst userInfo = await getUserInfoAll(wallet.account);\n\t\tconst userInfoPool = await getUserInfoInPool(chainId,address,wallet.account);\n\t\tconst harvestDeriTrade = (+userInfo.trade).toFixed(2);\n\t\tconst myTradingVolumeCurrent = userInfoPool.volume1h\n\t\tsetUserInfoInPool({harvestDeriTrade,myTradingVolumeCurrent})\n\t}\n\n\tconst getTradeInfo = async () => {\n\t\tconst poolInfo = await getPoolInfoApy(chainId,address);\n\t\tconst totalTradingVolumeCurrent = poolInfo.volume1h\n\t\tsetTradeSummary({totalTradingVolumeCurrent})\n  }\n  \n  const toTrade = () => {\n    const configs = configInfo.load(version);\n    const config = version.isV1 ? configs.find(c => eqInNumber(c.pool,address)) : configs.find(c => eqInNumber(c.pool,address) && c.symbolId === symbolId)\n    storeConfig(version.current,config)\n    history.push('/lite')\n  }\n\n\tuseEffect(() => {\n\t\tif(wallet && wallet.account){\n\t\t\tloadUserInfoInPool();\n\t\t\tgetTradeInfo();\n\t\t}\n\t\treturn () => {};\n\t}, []);\n\n  return(\n    <div className=\"liquidity-box\">\n      <div className=\"odd title\">{lang['trade-to-earn-deri']}</div>\n        <div className=\"odd text\">\n            <div className=\"text-title\">{lang['total-trading-volume-in-current-hour']}</div>\n            <div className=\"text-num\">{ tradeSummary.totalTradingVolumeCurrent || 0}</div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\">{lang['my-trading-volume-in-current-hour']}</div>\n            <div className=\"text-num\">{ userInfoInPool.myTradingVolumeCurrent || 0 }</div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\"></div>\n            <div className=\"text-num\"></div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\"></div>\n            <div className=\"text-num\"></div>\n        </div>\n        <div className=\"odd text\">\n            <div className=\"text-title\"></div>\n            <div className=\"text-num\"></div>\n        </div>\n        <div className=\"odd claim-network\">\n              \n        </div>\n        <div className=\"claim-btn\">\n            <button className=\"claim\" onClick={toTrade}>\n              {lang['trade']}\n            </button>\n        </div>\n    </div> \n  )\n}\nexport default inject('version')(observer(Liquidity))","import Claim from '../../Claim/Claim';\nimport Liquidity from './Liquidity';\n\nexport default function TradeMining({wallet,...props}){\n  return(\n    <div className=\"trade-info\">\n      <Claim {...props} wallet={wallet} tradingClaim={true}/>\n\t\t\t<Liquidity {...props}/>\n  </div>\n  )\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Modal = require(\"./components/Modal\");\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Modal2.default;\nmodule.exports = exports[\"default\"];"],"sourceRoot":""}